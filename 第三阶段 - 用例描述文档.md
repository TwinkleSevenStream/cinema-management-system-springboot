# Fin 第三阶段 - 用例描述文档

- [第三阶段 - 用例描述文档](#%E7%AC%AC%E4%B8%89%E9%98%B6%E6%AE%B5---%E7%94%A8%E4%BE%8B%E6%8F%8F%E8%BF%B0%E6%96%87%E6%A1%A3)
  - [1. 引言](#1-%E5%BC%95%E8%A8%80)
    - [1.1 目的](#11-%E7%9B%AE%E7%9A%84)
    - [1.2 阅读说明](#12-%E9%98%85%E8%AF%BB%E8%AF%B4%E6%98%8E)
    - [1.3 参考文献](#13-%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE)
  - [2. 用例图](#2-%E7%94%A8%E4%BE%8B%E5%9B%BE)
  - [3. 用例列表](#3-%E7%94%A8%E4%BE%8B%E5%88%97%E8%A1%A8)
  - [4. 详细用例描述](#4-%E8%AF%A6%E7%BB%86%E7%94%A8%E4%BE%8B%E6%8F%8F%E8%BF%B0)
    - [4.1 发布会员卡](#41-%E5%8F%91%E5%B8%83%E4%BC%9A%E5%91%98%E5%8D%A1)
    - [4.2 修改会员卡优惠策略](#42-%E4%BF%AE%E6%94%B9%E4%BC%9A%E5%91%98%E5%8D%A1%E4%BC%98%E6%83%A0%E7%AD%96%E7%95%A5)
    - [4.3 新增退票策略](#43-%E6%96%B0%E5%A2%9E%E9%80%80%E7%A5%A8%E7%AD%96%E7%95%A5)
    - [4.4 修改退票策略](#44-%E4%BF%AE%E6%94%B9%E9%80%80%E7%A5%A8%E7%AD%96%E7%95%A5)
    - [4.5 影厅信息录入](#45-%E5%BD%B1%E5%8E%85%E4%BF%A1%E6%81%AF%E5%BD%95%E5%85%A5)
    - [4.6 修改影厅信息](#46-%E4%BF%AE%E6%94%B9%E5%BD%B1%E5%8E%85%E4%BF%A1%E6%81%AF)
    - [4.7 影院角色的增删改查](#47-%E5%BD%B1%E9%99%A2%E8%A7%92%E8%89%B2%E7%9A%84%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5)
    - [4.8 用户退票](#48-%E7%94%A8%E6%88%B7%E9%80%80%E7%A5%A8)
    - [4.9 查看历史充值记录](#49-%E6%9F%A5%E7%9C%8B%E5%8E%86%E5%8F%B2%E5%85%85%E5%80%BC%E8%AE%B0%E5%BD%95)
    - [4.10 查看历史消费记录](#410-%E6%9F%A5%E7%9C%8B%E5%8E%86%E5%8F%B2%E6%B6%88%E8%B4%B9%E8%AE%B0%E5%BD%95)
    - [4.11 赠送优惠券](#411-%E8%B5%A0%E9%80%81%E4%BC%98%E6%83%A0%E5%88%B8)
  - [5. 需求分析模型](#5-%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90%E6%A8%A1%E5%9E%8B)
    - [5.1 系统顺序图](#51-%E7%B3%BB%E7%BB%9F%E9%A1%BA%E5%BA%8F%E5%9B%BE)
    - [5.2 概念类图](#52-%E6%A6%82%E5%BF%B5%E7%B1%BB%E5%9B%BE)
    - [5.3 状态图](#53-%E7%8A%B6%E6%80%81%E5%9B%BE)



[]()
<a name="f52b0607"></a>
## 1. 引言



[]()
<a name="e43fae20"></a>
### 1.1 目的

构建电影院管理系统，有助于提高电影馆管理效率、提升用户体验，同时便于电影院职工进行管理，更好的进行协作，共同进行服务。



[]()
<a name="24d53836"></a>
### 1.2 阅读说明

对于一个电影院系统，主要用户有三个：影院经理，系统管理员，观众。<br />电影数据库中存储着所有已上架电影的信息，不同用户在系统中可以在权限内进行不同的操作，三方通过各自职能的实现以及相互协作，从而形成一个初级的系统，可以提供基本的服务。<br />三个系统的参与者（即影院经理、管理员、观众）想要使用系统，都必须在登录页面进行登录操作，对于新的观众用户，由于是初次使用，还需要使用一种方式注册，如可以使用手机号或邮箱或其他第三方认证方式进行认证。而对于管理员用户来说，则需要通过影院经理在登录后通过增加影院角色（管理员）来进行注册。登录系统后，这三方都可以使用系统服务或更改系统部分变更信息。<br />当然，不同的系统参与者的权限是不同的，影院经理的权限最高，他可以增填改查管理员用户角色，同时也享有管理员的全部权限。在第三阶段中，管理员可以发布并修改会员卡优惠策略，新增并修改退票策略，录入并修改影厅信息，增删查改影院角色（观众），赠送优惠券。观众则可以退票，查看历史消费记录、历史充值记录。<br />



[]()
<a name="1b49fa7c"></a>
### 1.3 参考文献

【1】骆斌. 软件工程与计算II（卷二）软件开发的技术基础 [M] 机械工业出版社



[]()
<a name="29aec35a"></a>
## 2. 用例图

![用例图.svg](https://cdn.nlark.com/yuque/0/2019/svg/294432/1561033551081-99e4facb-9742-4a57-bb3f-f0c2ab776f32.svg#align=left&display=inline&height=987&name=%E7%94%A8%E4%BE%8B%E5%9B%BE.svg&originHeight=987&originWidth=472&size=13366&status=done&width=472#align=left&display=inline&height=987&originHeight=987&originWidth=472&status=done&width=472)



[]()
<a name="e6fe128c"></a>
## 3. 用例列表

1. 发布会员卡
2. 修改会员卡
3. 设置退票策略
4. 修改退票策略
5. 影厅信息录入
6. 修改影厅信息
7. 影院角色的增删改查
8. 赠送优惠券
9. 用户退票
10. 查看历史充值记录
11. 查看历史消费记录



[]()
<a name="850d8ccd"></a>
## 4. 详细用例描述



[]()
<a name="24a4a124"></a>
### 4.1 发布会员卡

用例编号：24<br />名称： 发布会员卡<br />创建者：邱书豪<br />创建日期：2019/6/19<br />最后一次更新者：邱书豪<br />更新日期：2019/6/19<br />参与者 ： 影院管理员<br />触发条件：用户有对于会员卡的购买需求<br />前置条件：

1. 影院管理员身份已经识别，且正确授权。
2. 影院管理员已确定会员卡充值优惠策略
3. 系统允许管理员通过键盘输入会员卡相关信息

后置条件：

1. 观众可以使用会员卡内金额进行购票操作

优先级：高<br />正常流程：

1. 影院管理员使用输入特殊的账号
2. 经理输入密码
3. 如果密码与账户不匹配，登录失败，提示“用户名或密码错误”。重复1-3直到正常登录。
4. 影院管理员登录系统，通过验证后获取操作授权。
5. 使用发布会员卡功能。
6. 填写完整会员卡相关信息。
7. 点击确认
8. 若会员卡信息输入不合法，跳出提示框“输入不合法！”。重复6-7直到完成填写
9. 若会员卡信息输入合法，跳出提示框“新增成功”，页面添加该会员卡信息。
10. 退出发布会员卡功能界面

扩展流程：无<br />特殊需求：无<br />



[]()
<a name="70f97f46"></a>
### 4.2 修改会员卡优惠策略

用例编号：25<br />名称： 修改会员卡<br />创建者：邱书豪<br />创建日期：2019/6/19<br />最后一次更新者：邱书豪<br />更新日期：2019/6/19<br />参与者 ： 影院管理员<br />触发条件：

1. 影院管理员需要对会员卡信息进行修改。

前置条件：

1. 影院管理员身份已经识别，且正确授权。

后置条件：可更新会员卡信息<br />优先级：较高。<br />正常流程：

1. 影院管理员使用输入特殊的账号
2. 影院管理员输入密码
3. 如果密码与账户不匹配，登录失败，提示“用户名或密码错误”。
4. 重复1-3直到正常登录。
5. 影院管理员登录系统，通过验证后获取操作授权。
6. 使用修改会员卡功能。
7. 在弹出的会员卡相关信息输入框中输入所需修改的会员卡相关信息。
8. 系统同步录入并存储输入信息。
9. 点击“修改”按钮。
10. 若输入缺少相关信息或输入不合法，弹出“输入不合法，请重试！”，重复7-9直到正确输入相关信息
11. 弹出“修改成功！”

扩展流程：无<br />特殊需求：无



[]()
<a name="7daa22b7"></a>
### 4.3 新增退票策略

用例编号：26<br />名称： 设置退票策略<br />创建者：邱书豪<br />创建日期：2019/6/19<br />最后一次更新者：邱书豪<br />更新日期：2019/6/19<br />参与者 ：  影院管理员<br />触发条件：

1. 影院和观众产生对于退票的需求。

前置条件：

1. 影院管理员身份已经识别，且正确授权。

后置条件：

1. 退票策略可被修改

优先级：较高。<br />正常流程：

1. 影院管理员使用输入特殊的账号
2. 影院管理员输入密码
3. 如果密码与账户不匹配，登录失败，提示“用户名或密码错误”。
4. 重复1-3直到正常登录。
5. 使用新增退票策略功能。
6. 在退票策略信息输入框中填写退票策略相关信息。
7. 系统同步存储所填信息。
8. 点击“确认”按钮。
9. 若填写不合法，弹出“输入不合法，请重试！”，重复6-8直到填写完成。
10. 弹出“新增成功！”。

扩展流程：无<br />特殊需求：无



[]()
<a name="8af8fa7b"></a>
### 4.4 修改退票策略

用例编号：27<br />名称：修改退票策略<br />创建者：邱书豪<br />创建日期：2019/6/19<br />最后一次更新者：邱书豪<br />更新日期：2019/6/19<br />参与者 ： 影院管理员<br />触发条件：影院管理员有对于修改现有退票策略的需求<br />前置条件：

1. 已有退票策略。
2. 影院管理员身份已经识别，且正确授权。

后置条件：退票策略可被更改<br />优先级：高<br />正常流程：

1. 影院管理员使用输入特殊的账号
2. 影院管理员输入密码
3. 如果密码与账户不匹配，登录失败，提示“用户名或密码错误”。
4. 重复1-3直到正常登录。
5. 使用修改退票策略功能。
6. 在退票策略信息输入框中填写退票策略相关信息。
7. 系统同步存储所填信息。
8. 点击“修改”按钮。
9. 若填写不合法，弹出“输入不合法，请重试！”，重复6-8直到填写完成。
10. 弹出“修改成功！”。

扩展流程：无<br />特殊需求：无



[]()
<a name="d09bc3c8"></a>
### 4.5 影厅信息录入

用例编号：28<br />名称： 影厅信息录入<br />创建者：邱书豪<br />创建日期：2019/6/19<br />最后一次更新者：邱书豪<br />更新日期：201963/19<br />参与者 ： 影院管理员<br />触发条件：影院管理员需要录入某影厅信息。<br />前置条件：

1. 影院管理员身份已经识别，且正确授权。
2. 存在某未被录入信息的影厅。

后置条件：影厅信息可被更改<br />优先级：高<br />正常流程：

1. 影院管理员使用输入特殊的账号
2. 影院管理员输入密码
3. 如果密码与账户不匹配，登录失败，提示“用户名或密码错误”。
4. 重复1-3直到正常登录。
5. 在影厅管理界面使用“新增”功能。
6. 填写新影厅的相关信息。
7. 系统同步录入管理员所填写的信息。
8. 点击“确认”按钮。
9. 若输入不合法，弹出“输入不合法，请重新输入！”。重复6-8直到信息填写成功。
10. 弹出“新增成功！”。

扩展流程：无<br />特殊需求：无



[]()
<a name="5e3250e9"></a>
### 4.6 修改影厅信息

用例编号：29<br />名称：  修改影厅信息<br />创建者：邱书豪<br />创建日期：2019/6/19<br />最后一次更新者：邱书豪<br />更新日期：2019/6/19<br />参与者 ：  影院管理员<br />触发条件：某个影厅信息需要被修改<br />前置条件：

1. 目标影厅信息已经被录入系统中。
2. 影院管理员身份已经识别，且正确授权。

后置条件：

1. 该影厅信息还可被更改。

优先级：中<br />正常流程：

1. 影院管理员使用输入特殊的账号
2. 影院管理员输入密码
3. 如果密码与账户不匹配，登录失败，提示“用户名或密码错误”。
4. 重复1-3直到正常登录。
5. 在影厅管理界面使用“修改”功能。
6. 选择需要修改信息的影厅
7. 填写需要修改的影厅的相关信息。
8. 系统同步录入管理员所填写的信息。
9. 点击“确认”按钮。
10. 若输入不合法，弹出“输入不合法，请重新输入！”。重复6-8直到信息填写成功。
11. 弹出“修改成功！”。

扩展流程：无<br />特殊需求：无<br />


[]()
<a name="e3a83f3c"></a>
### 4.7 影院角色的增删改查

用例编号：30<br />名称：  影院角色的增删改查<br />创建者：邱书豪<br />创建日期：2019/6/19<br />最后一次更新者：邱书豪<br />更新日期：2019/6/19<br />参与者 ：  影院管理员<br />触发条件：管理影院员工（售票员）、经理（管理员）等账号信息需要被修改。<br />前置条件：

1. 需要被删除、修改、查找的账号存在于系统中。
2. 影院管理员身份已经识别，且正确授权。

后置条件：

1. 被修改的账号信息还可被更改。

优先级：高<br />正常流程：

1. 影院管理员使用输入特殊的账号
2. 影院管理员输入密码
3. 如果密码与账户不匹配，登录失败，提示“用户名或密码错误”。
4. 重复1-3直到正常登录。
5. 在用户管理界面使用“新增”功能。
6. 填写需要新增的用户的信息
7. 系统同步录入管理员所填写的信息。
8. 点击“确认”按钮。
9. 若输入不合法，弹出“输入不合法，请重新输入！”。重复6-8直到信息填写成功。
10. 弹出“新增成功！”。
11. 在用户管理界面使用“删除”功能。
12. 填写需要删除的用户的信息
13. 系统同步录入管理员所填写的信息。
14. 点击“确认”按钮。
15. 若输入不合法，弹出“输入不合法，请重新输入！”。重复12-14直到信息填写成功。
16. 弹出“删除成功！”。
17. 在用户管理界面使用“修改”功能。
18. 填写需要修改的用户的信息
19. 系统同步录入管理员所填写的信息。
20. 点击“确认”按钮。
21. 若输入不合法，弹出“输入不合法，请重新输入！”。重复18-20直到信息填写成功。
22. 弹出“修改成功！”。
23. 在用户管理界面使用“查找”功能。
24. 填写需要查找的用户的信息
25. 显示该用户全部信息。

扩展流程：无<br />特殊需求：无


[]()
<a name="07387819"></a>
### 4.8 用户退票

用例编号：31<br />名称：  退票<br />创建者：邱书豪<br />创建日期：2019/6/19<br />最后一次更新者：邱书豪<br />更新日期：2019/6/19<br />参与者 ：  观众<br />触发条件：观众在订单支付但尚未出票时需要退票。<br />前置条件：

1. 观众已成功购买电影票但还未出票。
2. 观众身份已经识别，且正确授权。
3. 影院已经设置好退票策略。

后置条件：

1. 修改电影票信息。

优先级：中<br />正常流程：

1. 观众正确登录账号
2. 在我的电影票页面选择退票功能
3. 选择需要退的电影票，并查看退票策略
4. 点击退票按钮
5. 数据库删除该用户该电影票信息，弹出“退票成功！”。

扩展流程：无<br />特殊需求：无


[]()
<a name="d06e89fd"></a>
### 4.9 查看历史充值记录

用例编号：32<br />名称：  查看历史充值记录<br />创建者：邱书豪<br />创建日期：2019/6/19<br />最后一次更新者：邱书豪<br />更新日期：2019/6/19<br />参与者 ：  观众<br />触发条件：观众需要查看本账号充值记录<br />前置条件：

1. 观众身份已经识别，且正确授权。
2. 用户充值记录被保存在数据库中。

后置条件：无

优先级：中<br />正常流程：

1. 观众正确登录账号。
2. 点击“历史”按钮。
3. 点击“充值历史”按钮。
4. 显示充值历史列表。
5. 点击某一项充值记录。
6. 显示该次充值详细信息。

扩展流程：无<br />特殊需求：无


[]()
<a name="7af29d4e"></a>
### 4.10 查看历史消费记录

用例编号：33<br />名称： 查看历史消费记录<br />创建者：邱书豪<br />创建日期：2019/6/19<br />最后一次更新者：邱书豪<br />更新日期：2019/6/19<br />参与者 ：  观众<br />触发条件：观众需要查看本账号消费记录<br />前置条件：

1. 观众身份已经识别，且正确授权。
2. 用户消费记录被保存在数据库中。

后置条件：无

优先级：中<br />正常流程：

1. 观众正确登录账号。
2. 点击“历史”按钮。
3. 点击“消费历史”按钮。
4. 显示消费历史列表。
5. 点击某一项消费记录。
6. 显示该次消费详细信息。

扩展流程：无<br />特殊需求：无


[]()
<a name="8140f00d"></a>
### 4.11 赠送优惠券

用例编号：34<br />名称：  赠送优惠券<br />创建者：邱书豪<br />创建日期：2019/6/19<br />最后一次更新者：邱书豪<br />更新日期：2019/6/19<br />参与者 ：  影院管理员<br />触发条件：管理员需要对部分会员赠送优惠券。<br />前置条件：

1. 影院管理员身份已经识别，且正确授权。
2. 某会员消费达到一定金额

后置条件：无

优先级：中<br />正常流程：

1. 影院管理员使用输入特殊的账号
2. 影院管理员输入密码
3. 如果密码与账户不匹配，登录失败，提示“用户名或密码错误”。
4. 重复1-3直到正常登录。
5. 选择“赠送”按钮。
6. 按条件查询达到一定消费金额的会员。
7. 选择部分会员。
8. 选择优惠券类型。
9. 点击“确定”按钮。
10. 弹出“赠送成功！”。

扩展流程：无<br />特殊需求：无<br />

[]()
<a name="c0a7982d"></a>
## 5. 需求分析模型



[]()
<a name="c4781214"></a>
### 5.1 系统顺序图

![会员卡系统顺序图.svg](https://cdn.nlark.com/yuque/0/2019/svg/294432/1560886635350-05c12add-2067-4b4f-83a1-fe2dd8c25393.svg#align=left&display=inline&height=789&name=%E4%BC%9A%E5%91%98%E5%8D%A1%E7%B3%BB%E7%BB%9F%E9%A1%BA%E5%BA%8F%E5%9B%BE.svg&originHeight=789&originWidth=819&size=15228&status=done&width=819#align=left&display=inline&height=789&originHeight=789&originWidth=819&status=done&width=819)<br />发布会员卡、修改会员卡优惠策略的系统顺序图

![退票策略系统顺序图.svg](https://cdn.nlark.com/yuque/0/2019/svg/294432/1560886822107-06bd1232-a778-463d-b1a4-fb1d4e69f312.svg#align=left&display=inline&height=796&name=%E9%80%80%E7%A5%A8%E7%AD%96%E7%95%A5%E7%B3%BB%E7%BB%9F%E9%A1%BA%E5%BA%8F%E5%9B%BE.svg&originHeight=796&originWidth=819&size=15282&status=done&width=819#align=left&display=inline&height=796&originHeight=796&originWidth=819&status=done&width=819)<br />新增退票策略、修改退票策略的系统顺序图

![影厅系统顺序图.svg](https://cdn.nlark.com/yuque/0/2019/svg/294432/1560886914104-fdaf36f9-37fc-498f-8a65-f72f58f59d1b.svg#align=left&display=inline&height=796&name=%E5%BD%B1%E5%8E%85%E7%B3%BB%E7%BB%9F%E9%A1%BA%E5%BA%8F%E5%9B%BE.svg&originHeight=796&originWidth=819&size=15278&status=done&width=819#align=left&display=inline&height=796&originHeight=796&originWidth=819&status=done&width=819)<br />影厅信息录入、修改影厅信息的系统顺序图

![用户管理系统顺序图.svg](https://cdn.nlark.com/yuque/0/2019/svg/294432/1560887710051-5a6741d4-12ef-4cdb-a3fa-e3d29e526892.svg#align=left&display=inline&height=1328&name=%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E9%A1%BA%E5%BA%8F%E5%9B%BE.svg&originHeight=1328&originWidth=1053&size=20815&status=done&width=1053#align=left&display=inline&height=1328&originHeight=1328&originWidth=1053&status=done&width=1053)

影院角色的增删改查的系统顺序图

![充值消费系统顺序图.svg](https://cdn.nlark.com/yuque/0/2019/svg/294432/1560886099987-a54037ab-1f07-494e-8531-60c25ff4f8f0.svg#align=left&display=inline&height=1021&name=%E5%85%85%E5%80%BC%E6%B6%88%E8%B4%B9%E7%B3%BB%E7%BB%9F%E9%A1%BA%E5%BA%8F%E5%9B%BE.svg&originHeight=1021&originWidth=1146&size=18502&status=done&width=1146#align=left&display=inline&height=1021&originHeight=1021&originWidth=1146&status=done&width=1146)<br />查看历史充值记录、消费记录的系统顺序图

![退票系统顺序图.svg](https://cdn.nlark.com/yuque/0/2019/svg/294432/1560885502461-398a76cb-9ed1-4dd0-9141-82012bc2b32d.svg#align=left&display=inline&height=963&name=%E9%80%80%E7%A5%A8%E7%B3%BB%E7%BB%9F%E9%A1%BA%E5%BA%8F%E5%9B%BE.svg&originHeight=963&originWidth=721&size=14773&status=done&width=721#align=left&display=inline&height=963&originHeight=963&originWidth=721&status=done&width=721)<br />退票的系统顺序图



[]()
<a name="afd4d865"></a>
### 5.2 概念类图

![结构图.svg](https://cdn.nlark.com/yuque/0/2019/svg/294432/1561034620406-a3b659d9-e225-4b20-8ff8-469c8a0e766b.svg#align=left&display=inline&height=900&name=%E7%BB%93%E6%9E%84%E5%9B%BE.svg&originHeight=900&originWidth=1044&size=23672&status=done&width=1044#align=left&display=inline&height=900&originHeight=900&originWidth=1044&status=done&width=1044)<br />

[]()
<a name="b4c773e4"></a>
### 5.3 状态图

![状态图.svg](https://cdn.nlark.com/yuque/0/2019/svg/294432/1560884299418-5ef89d5e-a028-4863-ae38-7a35b3b06db2.svg#align=left&display=inline&height=1036&name=%E7%8A%B6%E6%80%81%E5%9B%BE.svg&originHeight=1036&originWidth=2468&size=148119&status=done&width=2468#align=left&display=inline&height=1036&originHeight=1036&originWidth=2468&status=done&width=2468)
